{"version":3,"file":"js/591.0eff67a5.js","mappings":"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","sources":["webpack://colors/./src/components/Voting/customTimeStamp.vue","webpack://colors/src/components/Voting/customTimeStamp.vue","webpack://colors/./src/components/Voting/customTimeStamp.vue?0892","webpack://colors/./src/components/Voting/customTimeStamp.vue?0fdf","webpack://colors/./src/views/VotingView/RandomVoting.vue","webpack://colors/src/views/VotingView/RandomVoting.vue","webpack://colors/./src/views/VotingView/RandomVoting.vue?4cd9","webpack://colors/./src/views/VotingView/RandomVoting.vue?dd67"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"timerComponent\"},[_c('div',{staticClass:\"timeLabel\"},[_vm._v(\"남은 시간\")]),_c('div',{staticClass:\"timer\",on:{\"click\":_vm.startTimer}},[_vm._v(_vm._s(_vm.seconds))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 타이머 시간 조정 방법 (원하는 시간을 t라고 함)\n  customTimeStamp.vue에서 data의 timeShow, seconds, fix_seconds를 t로 변경\n  store - resultStore.js state의 restTime를 t로 변경 -->\n  <div class=\"timerComponent\">\n    <div class=\"timeLabel\">남은 시간</div>\n    <div class=\"timer\" @click=\"startTimer\">{{ seconds }}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  //https://minu0807.tistory.com/95 참조\n  // https://webisfree.com/2014-04-08/[javascript]-%EC%8B%9C%EA%B0%84-%EC%A7%80%EC%97%B0-%ED%95%A8%EC%88%98-%EC%9D%BC%EC%A0%95-%EC%8B%9C%EA%B0%84-%EB%92%A4-%EC%8B%A4%ED%96%89%EC%8B%9C%ED%82%A4%EA%B8%B0-settimeout()-%7B%7D\n  data() {\n    return {\n      auto_reload: false, //인터벌 사용 여부\n      auto_reload_delay: 1000, //인터벌 시간\n      auto_reload_func: null, //인터벌 함수 담을 곳\n      timeStr: 10,\n      fix_seconds: 10,\n      seconds: 10,\n      timeShow: \"10\",\n      minutes: 0,\n    };\n  },\n  //새로고침하면 바로 실행\n  created() {\n    this.startTimer();\n  },\n  methods: {\n    startTimer() {\n      this.auto_reload_func = setInterval(() => {\n        if (this.$store.state.resultStore.voteRound <= this.$store.state.resultStore.cnt) {\n          this.seconds--;\n          this.$store.state.resultStore.restTime = this.seconds;\n          if (this.seconds <= 0) {\n            this.seconds = this.fix_seconds;\n            console.log(this.$store.state.resultStore.voteRound);\n          }\n        }\n        //사람 수만큼 라운드가 진행되면 타이머를 끕니다.\n        if (this.$store.state.resultStore.voteRound > this.$store.state.resultStore.cnt) {\n          this.stopTimer();\n        }\n      }, 1000);\n    },\n    stopTimer() {\n      clearInterval(this.auto_reload_func);\n    },\n  },\n  destroyed() {\n    clearInterval(this.auto_reload_func);\n  },\n};\n</script>\n\n<style>\n.timerComponent {\n  color: #494a8d;\n  /* font-size: 100%; */\n  font-weight: 600;\n  width: 100px;\n}\n.timer {\n  font-size: 110%;\n}\n.timeLabel {\n  font-size: 85%;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./customTimeStamp.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./customTimeStamp.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./customTimeStamp.vue?vue&type=template&id=15c2b556&\"\nimport script from \"./customTimeStamp.vue?vue&type=script&lang=js&\"\nexport * from \"./customTimeStamp.vue?vue&type=script&lang=js&\"\nimport style0 from \"./customTimeStamp.vue?vue&type=style&index=0&id=15c2b556&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"bodyColorVote\"},[_c('div',{staticClass:\"bodyColorVote11\"},[_c('div',{staticClass:\"dummyMarginColorVote1\"}),_c('div',{staticClass:\"gridColorVote1\"},[_c('div',{staticClass:\"sidelabelColorVote\"},[_c('time-stamp')],1),_c('div',{staticClass:\"titleColorVote\"},[_c('label',{staticClass:\"labelColorVote\",attrs:{\"for\":\"nameColorVote\",\"id\":\"nameColorVote\"}},[_vm._v(_vm._s(_vm.sub_nickname))]),_c('label',{staticClass:\"labelColorVote\",attrs:{\"for\":\"colorVoteTitle\"}},[_vm._v(\" 과(와) 가장 어울리는 색을 선택하세요.\")])]),_c('div',{staticClass:\"sidelabelColorVote\"},[_vm._v(_vm._s(_vm.vote_round)+\"/\"+_vm._s(_vm.cnt))])]),_c('color-vote')],1),(_vm.show_loadingimg)?_c('loadingImg',{attrs:{\"loadingText\":_vm.loadingText}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"bodyColorVote\">\n    <div class=\"bodyColorVote11\">\n      <div class=\"dummyMarginColorVote1\"></div>\n      <div class=\"gridColorVote1\">\n        <div class=\"sidelabelColorVote\">\n          <time-stamp></time-stamp>\n        </div>\n        <div class=\"titleColorVote\">\n          <label for=\"nameColorVote\" class=\"labelColorVote\" id=\"nameColorVote\">{{ sub_nickname }}</label>\n          <label for=\"colorVoteTitle\" class=\"labelColorVote\"> 과(와) 가장 어울리는 색을 선택하세요.</label>\n        </div>\n        <div class=\"sidelabelColorVote\">{{ vote_round }}/{{ cnt }}</div>\n      </div>\n      <color-vote></color-vote>\n    </div>\n    <loadingImg v-if=\"show_loadingimg\" :loadingText=\"loadingText\" />\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport ColorVote from \"../../components/Voting/colorVote.vue\";\nimport TimeStamp from \"../../components/Voting/customTimeStamp.vue\";\nimport loadingImg from \"../../components/Voting/loadingImg.vue\";\nimport swal from \"sweetalert\";\n\nexport default {\n  components: {\n    ColorVote,\n    TimeStamp,\n    loadingImg,\n  },\n  data() {\n    return {\n      selectedLst: [],\n      show_loadingimg: false,\n      loadingText: \"결과를 불러오는 중 입니다\",\n    };\n  },\n  computed: {\n    cnt() {\n      return this.$store.state.resultStore.cnt;\n    },\n    vote_round() {\n      return this.$store.state.resultStore.voteRound;\n    },\n    sub_nickname() {\n      if (this.vote_round > this.cnt) {\n        return this.$store.state.resultStore.data[this.cnt - 1].nickname;\n      } else {\n        console.log(this.vote_round);\n        if (this.$store.state.resultStore.data[this.vote_round - 1].nickname) {\n          return this.$store.state.resultStore.data[this.vote_round - 1].nickname;\n        } else {\n          return \"nothing\";\n        }\n      }\n    },\n  },\n  watch: {\n    vote_round(value) {\n      if (value > this.cnt) {\n        this.loading3sec();\n      }\n    },\n  },\n  beforeCreate() {\n    console.log(sessionStorage.getItem(\"roomId\"));\n    axios\n      .post(this.$store.state.baseurl + \"room/getresult\", {\n        roomid: sessionStorage.getItem(\"roomId\"),\n      })\n      .then((response) => {\n        console.log(response);\n        this.$store.state.resultStore.aloneResult = response.data;\n        this.$store.state.resultStore.data = response.data.data;\n        this.$store.state.resultStore.cnt = response.data.data.length;\n        this.$store.state.selectedColorLst = response.data.data[0].colors;\n        this.$store.state.aloneImageUrlLst = response.data.data[0].urls;\n      });\n    setTimeout(() => {\n      console.log(\"RandomVoting Page Created\");\n    }, 2000);\n  },\n  mounted() {\n    this.mySessionId = this.mySessionId + \"vote\";\n    // this.joinSession();\n    if (sessionStorage.getItem(\"hostId\") == sessionStorage.getItem(\"memberId\")) {\n      this.ishost = true;\n    }\n    console.log(this.mySessionId);\n  },\n  beforeRouteLeave(to, from, next) {\n    // this.leaveSession();\n    sessionStorage.setItem(\"hostId\", -1);\n    setTimeout(() => {\n      next();\n      // this.$router.go();\n    }, 100);\n  },\n  methods: {\n    loading3sec() {\n      this.vote_Round = this.cnt;\n      this.onLoadingImg();\n      //투표 결과 저장\n      this.saveTeamVoteResult();\n      console.log(\"로딩창 켬\");\n    },\n    onLoadingImg() {\n      this.show_loadingimg = true;\n    },\n    offLoadingImg() {\n      this.show_loadingimg = false;\n    },\n    //단체 투표 결과 저장\n    saveTeamVoteResult() {\n      axios\n        .post(this.$store.state.baseurl + \"room/vote\", {\n          roomid: sessionStorage.getItem(\"roomId\"),\n          voterid: sessionStorage.getItem(\"memberId\"),\n          content: this.$store.state.resultStore.voteContent,\n        })\n        .then((response) => {\n          if (response.data.message == \"fail\") {\n            swal(\"투표 결과\", \"투표 결과를 저장하는데 실패하였습니다.\", \"error\");\n          } else {\n            this.startSumVoteResult();\n          }\n        });\n    },\n    //각 투표 합산put -> 투표 결과 가져오기get\n    startSumVoteResult() {\n      axios\n        .put(this.$store.state.baseurl + \"room/votesum\", {\n          roomid: sessionStorage.getItem(\"roomId\"),\n        })\n        .then((response) => {\n          if (response.data.message == \"success\") {\n            console.log(\"투표결과 합산 완료!!!!!!!!!!!!!!!!!!!!!!!!!!\");\n          } else {\n            swal(\"투표 결과\", \"투표 결과를 합산하는데 실패하였습니다.\", \"error\");\n          }\n          this.move2Result();\n        });\n    },\n    move2Result() {\n      setTimeout(() => {\n        this.offLoadingImg();\n        console.log(\"로딩창 끔\");\n        // 데이터 요청 보내고 받기@@@@@@@@@@@@@@@@@@@@@@\n        this.$router.push(\"/nickresult\");\n      }, 4000);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.bodyColorVote11 {\n  margin-left: 120px;\n  height: 700px;\n  width: 1400px;\n}\n.dummyMarginColorVote1 {\n  height: 10%;\n  width: 100%;\n}\n.gridColorVote1 {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n}\n.labelColorVote {\n  color: #4a4d74;\n  font-size: 180%;\n  font-weight: 600;\n}\n.sidelabelColorVote {\n  color: #6667ab;\n  font-size: 180%;\n  font-weight: 600;\n  margin-right: 50px;\n}\n#nameColorVote {\n  color: #f34d75;\n}\n.titleColorVote {\n  margin-right: 50px;\n  display: block;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RandomVoting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RandomVoting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RandomVoting.vue?vue&type=template&id=0429cb5f&scoped=true&\"\nimport script from \"./RandomVoting.vue?vue&type=script&lang=js&\"\nexport * from \"./RandomVoting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RandomVoting.vue?vue&type=style&index=0&id=0429cb5f&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0429cb5f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","on","startTimer","_s","seconds","staticRenderFns","data","auto_reload","auto_reload_delay","auto_reload_func","timeStr","fix_seconds","timeShow","minutes","created","methods","console","stopTimer","clearInterval","destroyed","component","attrs","sub_nickname","vote_round","cnt","show_loadingimg","loadingText","_e","components","ColorVote","TimeStamp","loadingImg","selectedLst","computed","watch","beforeCreate","axios","roomid","then","response","setTimeout","mounted","beforeRouteLeave","sessionStorage","next","loading3sec","onLoadingImg","offLoadingImg","saveTeamVoteResult","voterid","content","swal","startSumVoteResult","move2Result"],"sourceRoot":""}